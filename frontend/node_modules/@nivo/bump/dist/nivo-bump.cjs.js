"use strict";var e=require("react"),i=require("@nivo/core"),t=require("@nivo/axes"),o=require("d3-shape"),n=require("@nivo/theming"),r=require("@nivo/colors"),a=require("@nivo/tooltip"),l=require("d3-scale"),d=require("@nivo/scales"),s=require("react/jsx-runtime"),c=require("@react-spring/web"),u=require("@nivo/text"),v=require("@nivo/voronoi");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},p.apply(null,arguments)}function h(e,i){if(null==e)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==i.indexOf(o))continue;t[o]=e[o]}return t}var f=function(i){return e.useMemo((function(){return"function"==typeof i?i:function(){return i}}),[i])},g=function(i){var t=i.width,a=i.height,s=i.data,c=i.interpolation,u=i.xPadding,v=i.xOuterPadding,h=i.yOuterPadding,g=i.lineWidth,b=i.activeLineWidth,x=i.inactiveLineWidth,m=i.colors,y=i.opacity,M=i.activeOpacity,C=i.inactiveOpacity,P=i.pointSize,S=i.activePointSize,W=i.inactivePointSize,k=i.pointColor,O=i.pointBorderWidth,L=i.activePointBorderWidth,I=i.inactivePointBorderWidth,B=i.pointBorderColor,w=i.isInteractive,A=i.defaultActiveSerieIds,T=e.useState(A),E=T[0],j=T[1],z=e.useState(A),D=z[0],F=z[1],R=e.useMemo((function(){return function(e){var i=e.width,t=e.height,o=e.data,n=e.xPadding,r=e.xOuterPadding,a=e.yOuterPadding,s=new Set,c=new Set;o.forEach((function(e){e.data.forEach((function(e){s.add(e.x),null!==e.y&&c.add(e.y)}))}));var u=Array.from(s),v=d.castPointScale(l.scalePoint().domain(u).range([0,i]).padding(r)),p=Array.from(c).sort((function(e,i){return e-i})),h=d.castPointScale(l.scalePoint().domain(p).range([0,t]).padding(a)),f=v.step()*Math.min(.5*n,.5);return{series:o.map((function(e){var t={id:e.id,data:e,points:[],linePoints:[]};return e.data.forEach((function(o,n){var r=null,a=null;null!==o.y&&(r=v(o.x),a=h(o.y));var l={id:e.id+"."+n,serie:e,data:o,x:r,y:a};t.points.push(l),null!==l.x&&(0===n?t.linePoints.push([0,l.y]):t.linePoints.push([l.x-f,l.y])),t.linePoints.push([l.x,l.y]),null!==r&&(n===e.data.length-1&&r?t.linePoints.push([i,l.y]):t.linePoints.push([l.x+f,l.y])),t.points=t.points.filter((function(e){return null!==e.x}))})),t})),xScale:v,yScale:h}}({width:t,height:a,data:s,xPadding:u,xOuterPadding:v,yOuterPadding:h})}),[t,a,s,u,v,h]),G=R.series,H=R.xScale,q=R.yScale,U=function(i){return e.useMemo((function(){return o.line().curve("smooth"===i?o.curveBasis:o.curveLinear).defined((function(e){return null!==e[0]&&null!==e[1]}))}),[i])}(c),X=r.useOrdinalColorScale(m,"id"),Y=function(i){var t=i.lineWidth,o=i.activeLineWidth,n=i.inactiveLineWidth,r=i.opacity,a=i.activeOpacity,l=i.inactiveOpacity,d=i.isInteractive,s=i.activeSerieIds,c=f(t),u=f(o),v=f(n),p=f(r),h=f(a),g=f(l),b=e.useCallback((function(e){return{opacity:p(e),lineWidth:c(e)}}),[c,p]),x=e.useCallback((function(e){return{opacity:h(e),lineWidth:u(e)}}),[u,h]),m=e.useCallback((function(e){return{opacity:g(e),lineWidth:v(e)}}),[v,g]);return e.useCallback((function(e){return d&&0!==s.length?s.includes(e.id)?x(e):m(e):b(e)}),[b,x,m,d,s])}({lineWidth:g,activeLineWidth:b,inactiveLineWidth:x,opacity:y,activeOpacity:M,inactiveOpacity:C,isInteractive:w,activeSerieIds:E}),K=e.useMemo((function(){return G.map((function(e){return p({},e,{color:X(e.data)},Y(e))}))}),[G,X,Y]),J=n.useTheme(),N=r.useInheritedColor(k,J),Q=r.useInheritedColor(B,J),V=function(i){var t=i.pointSize,o=i.activePointSize,n=i.inactivePointSize,r=i.pointBorderWidth,a=i.activePointBorderWidth,l=i.inactivePointBorderWidth,d=i.isInteractive,s=i.activePointIds,c=f(t),u=f(o),v=f(n),p=f(r),h=f(a),g=f(l),b=e.useCallback((function(e){return{size:c(e),borderWidth:p(e)}}),[c,p]),x=e.useCallback((function(e){return{size:u(e),borderWidth:h(e)}}),[u,h]),m=e.useCallback((function(e){return{size:v(e),borderWidth:g(e)}}),[v,g]);return e.useCallback((function(e){return d&&0!==s.length?s.includes(e.id)?x(e):m(e):b(e)}),[b,x,m,d,s])}({pointSize:P,activePointSize:S,inactivePointSize:W,pointBorderWidth:O,activePointBorderWidth:L,inactivePointBorderWidth:I,isInteractive:w,activePointIds:D}),Z=e.useMemo((function(){var e=[];return K.forEach((function(i){i.points.forEach((function(t){var o=p({},t,{serie:i,isActive:E.includes(i.id),isInactive:E.length>0&&!E.includes(i.id)});o.color=N(o),o.borderColor=Q(o),e.push(p({},o,V(o)))}))})),e}),[K,E,N,Q,V]);return{xScale:H,yScale:q,series:K,points:Z,lineGenerator:U,activeSerieIds:E,setActiveSerieIds:j,activePointIds:D,setActivePointIds:F}},b=function(i){var t=i.serie,o=i.isInteractive,n=i.onMouseEnter,r=i.onMouseMove,l=i.onMouseLeave,d=i.onMouseDown,s=i.onMouseUp,c=i.onClick,u=i.onDoubleClick,v=i.setActiveSerieIds,p=i.lineTooltip,h=a.useTooltip(),f=h.showTooltipFromEvent,g=h.hideTooltip,b=e.useCallback((function(i){f(e.createElement(p,{serie:t}),i),v([t.id]),null==n||n(t,i)}),[t,n,f,v,p]),x=e.useCallback((function(i){f(e.createElement(p,{serie:t}),i),null==r||r(t,i)}),[t,r,f,p]),m=e.useCallback((function(e){g(),v([]),null==l||l(t,e)}),[t,l,g,v]),y=e.useCallback((function(e){null==d||d(t,e)}),[t,d]),M=e.useCallback((function(e){null==s||s(t,e)}),[t,s]),C=e.useCallback((function(e){null==c||c(t,e)}),[t,c]),P=e.useCallback((function(e){null==u||u(t,e)}),[t,u]);return e.useMemo((function(){return{onMouseEnter:o?b:void 0,onMouseMove:o?x:void 0,onMouseLeave:o?m:void 0,onMouseDown:o?y:void 0,onMouseUp:o?M:void 0,onClick:o?C:void 0,onDoubleClick:o?P:void 0}}),[o,b,x,m,y,M,C,P])},x=function(i){var t=i.series,o=i.position,a=i.padding,l=i.color,d=i.getLabel,s=n.useTheme(),c=r.useInheritedColor(l,s);return e.useMemo((function(){var e,i;"start"===o?(e="end",i=-1*a):(e="start",i=a);var n=[];return t.forEach((function(t){var r=t.id;"function"==typeof d&&(r=d(t.data));var a="start"===o?t.linePoints[0]:t.linePoints[t.linePoints.length-1];null!==(null==a?void 0:a[0])&&null!==(null==a?void 0:a[1])&&n.push({id:t.id,label:r,x:a[0]+i,y:a[1],color:c(t),opacity:t.opacity,serie:t,textAnchor:e})})),n}),[t,o,a,c,d])},m={pointerEvents:"none"},y=p({},{layers:["grid","axes","labels","lines","points","mesh"],interpolation:"smooth",xPadding:.6,xOuterPadding:.5,yOuterPadding:.5,colors:{scheme:"nivo"},lineWidth:2,activeLineWidth:4,inactiveLineWidth:1,opacity:1,activeOpacity:1,inactiveOpacity:.3,startLabel:!1,startLabelPadding:16,startLabelTextColor:{from:"color"},endLabel:!0,endLabelPadding:16,endLabelTextColor:{from:"color"},pointSize:6,activePointSize:8,inactivePointSize:4,pointColor:{from:"serie.color"},pointBorderWidth:0,activePointBorderWidth:0,inactivePointBorderWidth:0,pointBorderColor:{from:"serie.color",modifiers:[["darker",1.4]]},enableGridX:!0,enableGridY:!0,axisTop:{},axisRight:null,axisBottom:{},axisLeft:{},isInteractive:!0,defaultActiveSerieIds:[],lineTooltip:function(e){var i=e.serie;return s.jsx(a.BasicTooltip,{"data-testid":"tooltip."+i.data.id,id:i.data.id,enableChip:!0,color:i.color})},pointTooltip:e.memo((function(e){var i=e.point;return s.jsx(a.BasicTooltip,{id:s.jsxs("span",{children:["x: ",s.jsx("strong",{children:i.data.x}),", y: ",s.jsx("strong",{children:i.data.y})]}),enableChip:!0,color:i.serie.color})})),useMesh:!1,debugMesh:!1,role:"img",renderWrapper:!0},{pointComponent:function(e){var t=e.point,o=i.useMotionConfig(),n=o.animate,r=o.config,a=c.useSpring({x:t.x,y:t.y,radius:t.size/2,color:t.color,borderWidth:t.borderWidth,config:r,immediate:!n});return s.jsx(c.animated.circle,{"data-testid":"point."+t.serie.id+"."+t.data.x,cx:a.x,cy:a.y,r:c.to(a.radius,(function(e){return Math.max(e,0)})),fill:a.color,strokeWidth:a.borderWidth,stroke:t.borderColor,style:m})},animate:!0,motionConfig:"gentle"}),M=function(e){var t=e.serie,o=e.lineGenerator,n=e.yStep,r=e.isInteractive,a=e.onMouseEnter,l=e.onMouseMove,d=e.onMouseLeave,u=e.onMouseDown,v=e.onMouseUp,p=e.onClick,h=e.onDoubleClick,f=e.setActiveSerieIds,g=e.lineTooltip,x=e.useMesh,m=b({serie:t,isInteractive:r,onMouseEnter:a,onMouseMove:l,onMouseLeave:d,onMouseDown:u,onMouseUp:v,onClick:p,onDoubleClick:h,setActiveSerieIds:f,lineTooltip:g}),y=i.useMotionConfig(),M=y.animate,C=y.config,P=o(t.linePoints)||"",S=i.useAnimatedPath(P),W=c.useSpring({color:t.color,opacity:t.opacity,lineWidth:t.lineWidth,config:C,immediate:!M});return s.jsxs(s.Fragment,{children:[s.jsx(c.animated.path,{"data-testid":"line."+t.id,fill:"none",d:S,stroke:W.color,strokeWidth:W.lineWidth,strokeLinecap:"round",strokeOpacity:W.opacity,style:{pointerEvents:"none"}}),r&&!x&&s.jsx("path",{"data-testid":"line."+t.id+".interactive",fill:"none",stroke:"red",strokeOpacity:0,strokeWidth:n,d:P,strokeLinecap:"butt",onMouseEnter:m.onMouseEnter,onMouseMove:m.onMouseMove,onMouseLeave:m.onMouseLeave,onMouseDown:m.onMouseDown,onMouseUp:m.onMouseUp,onClick:m.onClick,onDoubleClick:m.onDoubleClick})]})},C=function(e){var t=e.series,o=e.getLabel,r=e.position,a=e.padding,l=e.color,d=n.useTheme(),v=i.useMotionConfig(),h=v.animate,f=v.config,g=x({series:t,getLabel:o,position:r,padding:a,color:l}),b=c.useSprings(g.length,g.map((function(e){return{x:e.x,y:e.y,opacity:e.opacity,config:f,immediate:!h}})));return s.jsx(s.Fragment,{children:b.map((function(e,i){var t=g[i];return s.jsx(u.Text,{"data-testid":"label."+r+"."+t.serie.id,x:e.x,y:e.y,textAnchor:t.textAnchor,dominantBaseline:"central",opacity:e.opacity,style:p({},d.labels.text,{fill:t.color}),children:t.label},t.id)}))})},P=e.memo((function(i){var t=i.points,o=i.width,n=i.height,r=i.margin,l=i.setActivePointIds,d=i.setActiveSerieIds,c=i.onMouseEnter,u=i.onMouseMove,p=i.onMouseLeave,h=i.onMouseDown,f=i.onMouseUp,g=i.onClick,b=i.onDoubleClick,x=i.tooltip,m=i.debug,y=a.useTooltip(),M=y.showTooltipAt,C=y.hideTooltip,P=e.useCallback((function(i,t){var o;M(e.createElement(x,{point:i}),[i.x+r.left,null!=(o=i.y)?o:0+r.top],"top"),l([i.id]),d([i.serie.id]),null==c||c(i,t)}),[M,x,r.left,r.top,l,d,c]),S=e.useCallback((function(i,t){var o;M(e.createElement(x,{point:i}),[i.x+r.left,null!=(o=i.y)?o:0+r.top],"top"),l([i.id]),d([i.serie.id]),null==u||u(i,t)}),[M,x,r.left,r.top,l,d,u]),W=e.useCallback((function(e,i){C(),l([]),d([]),null==p||p(e,i)}),[C,p,l,d]),k=e.useCallback((function(e,i){null==h||h(e,i)}),[h]),O=e.useCallback((function(e,i){null==f||f(e,i)}),[f]),L=e.useCallback((function(e,i){null==g||g(e,i)}),[g]),I=e.useCallback((function(e,i){null==b||b(e,i)}),[b]);return s.jsx(v.Mesh,{nodes:t,width:o,height:n,onMouseEnter:P,onMouseMove:S,onMouseLeave:W,onMouseDown:k,onMouseUp:O,onClick:L,onDoubleClick:I,debug:m})})),S=["isInteractive","animate","motionConfig","theme","renderWrapper"],W=function(o){var n=o.data,r=o.width,a=o.height,l=o.margin,d=o.layers,c=void 0===d?y.layers:d,u=o.interpolation,v=void 0===u?y.interpolation:u,p=o.xPadding,h=void 0===p?y.xPadding:p,f=o.xOuterPadding,b=void 0===f?y.xOuterPadding:f,x=o.yOuterPadding,m=void 0===x?y.yOuterPadding:x,S=o.colors,W=void 0===S?y.colors:S,k=o.lineWidth,O=void 0===k?y.lineWidth:k,L=o.activeLineWidth,I=void 0===L?y.activeLineWidth:L,B=o.inactiveLineWidth,w=void 0===B?y.inactiveLineWidth:B,A=o.opacity,T=void 0===A?y.opacity:A,E=o.activeOpacity,j=void 0===E?y.activeOpacity:E,z=o.inactiveOpacity,D=void 0===z?y.inactiveOpacity:z,F=o.startLabel,R=void 0===F?y.startLabel:F,G=o.startLabelPadding,H=void 0===G?y.startLabelPadding:G,q=o.startLabelTextColor,U=void 0===q?y.startLabelTextColor:q,X=o.endLabel,Y=void 0===X?y.endLabel:X,K=o.endLabelPadding,J=void 0===K?y.endLabelPadding:K,N=o.endLabelTextColor,Q=void 0===N?y.endLabelTextColor:N,V=o.pointComponent,Z=void 0===V?y.pointComponent:V,$=o.pointSize,_=void 0===$?y.pointSize:$,ee=o.activePointSize,ie=void 0===ee?y.activePointSize:ee,te=o.inactivePointSize,oe=void 0===te?y.inactivePointSize:te,ne=o.pointColor,re=void 0===ne?y.pointColor:ne,ae=o.pointBorderWidth,le=void 0===ae?y.pointBorderWidth:ae,de=o.activePointBorderWidth,se=void 0===de?y.activePointBorderWidth:de,ce=o.inactivePointBorderWidth,ue=void 0===ce?y.inactivePointBorderWidth:ce,ve=o.pointBorderColor,pe=void 0===ve?y.pointBorderColor:ve,he=o.enableGridX,fe=void 0===he?y.enableGridX:he,ge=o.enableGridY,be=void 0===ge?y.enableGridY:ge,xe=o.axisTop,me=void 0===xe?y.axisTop:xe,ye=o.axisRight,Me=o.axisBottom,Ce=void 0===Me?y.axisBottom:Me,Pe=o.axisLeft,Se=void 0===Pe?y.axisLeft:Pe,We=o.isInteractive,ke=void 0===We?y.isInteractive:We,Oe=o.defaultActiveSerieIds,Le=void 0===Oe?y.defaultActiveSerieIds:Oe,Ie=o.onMouseEnter,Be=o.onMouseMove,we=o.onMouseLeave,Ae=o.onMouseDown,Te=o.onMouseUp,Ee=o.onClick,je=o.onDoubleClick,ze=o.useMesh,De=void 0===ze?y.useMesh:ze,Fe=o.debugMesh,Re=void 0===Fe?y.debugMesh:Fe,Ge=o.lineTooltip,He=void 0===Ge?y.lineTooltip:Ge,qe=o.pointTooltip,Ue=void 0===qe?y.pointTooltip:qe,Xe=o.role,Ye=void 0===Xe?y.role:Xe,Ke=o.forwardedRef,Je=i.useDimensions(r,a,l),Ne=Je.margin,Qe=Je.innerWidth,Ve=Je.innerHeight,Ze=Je.outerWidth,$e=Je.outerHeight,_e=g({width:Qe,height:Ve,data:n,interpolation:v,xPadding:h,xOuterPadding:b,yOuterPadding:m,lineWidth:O,activeLineWidth:I,inactiveLineWidth:w,colors:W,opacity:T,activeOpacity:j,inactiveOpacity:D,pointSize:_,activePointSize:ie,inactivePointSize:oe,pointColor:re,pointBorderWidth:le,activePointBorderWidth:se,inactivePointBorderWidth:ue,pointBorderColor:pe,isInteractive:ke,defaultActiveSerieIds:Le}),ei=_e.series,ii=_e.points,ti=_e.xScale,oi=_e.yScale,ni=_e.lineGenerator,ri=_e.activePointIds,ai=_e.activeSerieIds,li=_e.setActiveSerieIds,di=_e.setActivePointIds,si={grid:null,axes:null,labels:null,lines:null,points:null,mesh:null};c.includes("grid")&&(si.grid=s.jsx(t.Grid,{width:Qe,height:Ve,xScale:fe?ti:null,yScale:be?oi:null},"grid")),c.includes("axes")&&(si.axes=s.jsx(t.Axes,{xScale:ti,yScale:oi,width:Qe,height:Ve,top:me,right:ye,bottom:Ce,left:Se},"axes")),c.includes("lines")&&(si.lines=s.jsx(e.Fragment,{children:ei.map((function(e){return s.jsx(M,{serie:e,setActiveSerieIds:li,lineGenerator:ni,yStep:oi.step(),isInteractive:ke,onMouseEnter:Ie,onMouseMove:Be,onMouseLeave:we,onMouseDown:Ae,onMouseUp:Te,onClick:Ee,onDoubleClick:je,lineTooltip:He,useMesh:De},e.id)}))},"lines")),ke&&De&&c.includes("mesh")&&(si.mesh=s.jsx(P,{points:ii,width:Qe,height:Ve,margin:Ne,setActivePointIds:di,setActiveSerieIds:li,onMouseEnter:Ie,onMouseMove:Be,onMouseLeave:we,onMouseDown:Ae,onMouseUp:Te,onClick:Ee,onDoubleClick:je,tooltip:Ue,debug:Re},"mesh")),c.includes("points")&&(si.points=ii.map((function(i){return e.createElement(Z,{key:i.id,point:i})}))),c.includes("labels")&&(si.labels=s.jsxs(e.Fragment,{children:[!1!==R&&s.jsx(C,{series:ei,getLabel:R,position:"start",padding:H,color:U}),!1!==Y&&s.jsx(C,{series:ei,getLabel:Y,position:"end",padding:J,color:Q})]},"legends"));var ci=e.useMemo((function(){return{innerHeight:Ve,innerWidth:Qe,lineGenerator:ni,points:ii,series:ei,xScale:ti,yScale:oi,activeSerieIds:ai,activePointIds:ri,setActiveSerieIds:li,setActivePointIds:di}}),[ri,ai,di,li,Ve,Qe,ni,ii,ei,ti,oi]);return s.jsx(i.SvgWrapper,{width:Ze,height:$e,margin:Ne,role:Ye,ref:Ke,children:c.map((function(i,t){var o;return"function"==typeof i?s.jsx(e.Fragment,{children:e.createElement(i,ci)},t):null!=(o=null==si?void 0:si[i])?o:null}))})},k=e.forwardRef((function(e,t){var o=e.isInteractive,n=void 0===o?y.isInteractive:o,r=e.animate,a=void 0===r?y.animate:r,l=e.motionConfig,d=void 0===l?y.motionConfig:l,c=e.theme,u=e.renderWrapper,v=h(e,S);return s.jsx(i.Container,{animate:a,isInteractive:n,motionConfig:d,renderWrapper:u,theme:c,children:s.jsx(W,p({isInteractive:n},v,{forwardedRef:t}))})})),O=["defaultWidth","defaultHeight","onResize","debounceResize"],L=e.forwardRef((function(e,t){var o=e.defaultWidth,n=e.defaultHeight,r=e.onResize,a=e.debounceResize,l=h(e,O);return s.jsx(i.ResponsiveWrapper,{defaultWidth:o,defaultHeight:n,onResize:r,debounceResize:a,children:function(e){var i=e.width,o=e.height;return s.jsx(k,p({width:i,height:o},l,{ref:t}))}})})),I=function(i){var t=i.data,o=i.width,n=i.height,r=i.align,a=i.spacing,s=i.xPadding;return e.useMemo((function(){return function(e){var i,t,o=e.data,n=e.width,r=e.height,a=e.align,s=e.spacing,c=e.xPadding,u=new Map;o.forEach((function(e){e.data.forEach((function(o){u.has(o.x)||u.set(o.x,{id:o.x,total:0,values:new Map,x:0});var n=u.get(o.x),r=n.total+o.y;n.total=r,n.values.set(e.id,{serieId:e.id,value:o.y,position:0,height:0,beforeHeight:0}),(void 0===i||r>i)&&(i=r),(void 0===t||n.values.size>t)&&(t=n.values.size)}))}));var v=d.castPointScale(l.scalePoint().domain(Array.from(u.keys())).range([0,n])),h=d.castLinearScale(l.scaleLinear().domain([0,i]).range([0,r-t*s]));u.forEach((function(e,i){e.x=v(i);var t=h(e.total)+e.values.size*s,o=0;"middle"===a?o=(r-t)/2:"end"===a&&(o=r-t),Array.from(e.values.values()).sort((function(e,i){return i.value-e.value})).forEach((function(i,t,n){var r=n.filter((function(e,i){return i<t})),a=r.reduce((function(e,i){return e+i.value}),0),l=e.values.get(i.serieId);l.position=t,l.height=h(i.value),l.beforeHeight=h(a)+o+s*(r.length+.5)}))}));var f=v.step()*Math.min(.5*c,.5),g=o.map((function(e){var i={id:e.id,data:e,points:[],areaPoints:[]};return e.data.forEach((function(t,o){var n=u.get(t.x),r=n.values.get(e.id),a=n.x,l=r.beforeHeight,d=r.height,s=l+d/2,c=l,v=l+d;i.points.push({x:a,y:s,height:d,data:p({},t)}),o>0&&i.areaPoints.push({x:a-f,y0:c,y1:v}),i.areaPoints.push({x:a,y0:c,y1:v}),o<e.data.length-1&&i.areaPoints.push({x:a+f,y0:c,y1:v})})),i}));return{series:g,xScale:v,heightScale:h}}({data:t,width:o,height:n,align:r,spacing:a,xPadding:s})}),[t,o,n,r,a,s])},B=function(i){return e.useMemo((function(){return"function"==typeof i?i:function(){return i}}),[i])},w=function(i){var t=i.data,a=i.width,l=i.height,d=i.align,s=i.spacing,c=i.xPadding,u=i.interpolation,v=i.colors,h=i.fillOpacity,f=i.activeFillOpacity,g=i.inactiveFillOpacity,b=i.borderWidth,x=i.activeBorderWidth,m=i.inactiveBorderWidth,y=i.borderColor,M=i.borderOpacity,C=i.activeBorderOpacity,P=i.inactiveBorderOpacity,S=i.isInteractive,W=i.defaultActiveSerieIds,k=e.useState(W),O=k[0],L=k[1],w=I({data:t,width:a,height:l,align:d,spacing:s,xPadding:c}),A=w.series,T=w.xScale,E=w.heightScale,j=function(i){return e.useMemo((function(){return o.area().x((function(e){return e.x})).y0((function(e){return e.y0})).y1((function(e){return e.y1})).curve("smooth"===i?o.curveBasis:o.curveLinear)}),[i])}(u),z=r.useOrdinalColorScale(v,"id"),D=function(i){var t=i.fillOpacity,o=i.activeFillOpacity,a=i.inactiveFillOpacity,l=i.borderWidth,d=i.activeBorderWidth,s=i.inactiveBorderWidth,c=i.borderColor,u=i.borderOpacity,v=i.activeBorderOpacity,p=i.inactiveBorderOpacity,h=i.isInteractive,f=i.activeSerieIds,g=B(t),b=B(o),x=B(a),m=B(l),y=B(d),M=B(s),C=n.useTheme(),P=r.useInheritedColor(c,C),S=B(u),W=B(v),k=B(p),O=e.useCallback((function(e){return{fillOpacity:g(e),borderWidth:m(e),borderColor:P(e),borderOpacity:S(e)}}),[g,m,P,S]),L=e.useCallback((function(e){return{fillOpacity:b(e),borderWidth:y(e),borderColor:P(e),borderOpacity:W(e)}}),[b,y,P,W]),I=e.useCallback((function(e){return{fillOpacity:x(e),borderWidth:M(e),borderColor:P(e),borderOpacity:k(e)}}),[x,M,P,k]);return e.useCallback((function(e){return h&&0!==f.length?f.includes(e.id)?L(e):I(e):O(e)}),[O,L,I,h,f])}({fillOpacity:h,activeFillOpacity:f,inactiveFillOpacity:g,borderWidth:b,activeBorderWidth:x,inactiveBorderWidth:m,borderColor:y,borderOpacity:M,activeBorderOpacity:C,inactiveBorderOpacity:P,isInteractive:S,activeSerieIds:O});return{series:e.useMemo((function(){return A.map((function(e){var i=p({},e,{color:z(e.data)});return p({},i,D(i))}))}),[A,z,D]),xScale:T,heightScale:E,areaGenerator:j,activeSerieIds:O,setActiveSerieIds:L}},A=function(i){var t=i.serie,o=i.isInteractive,n=i.onMouseEnter,r=i.onMouseMove,l=i.onMouseLeave,d=i.onClick,s=i.setActiveSerieIds,c=i.tooltip,u=a.useTooltip(),v=u.showTooltipFromEvent,p=u.hideTooltip,h=e.useCallback((function(i){v(e.createElement(c,{serie:t}),i),s([t.id]),null==n||n(t,i)}),[t,n,v,s,c]),f=e.useCallback((function(i){v(e.createElement(c,{serie:t}),i),null==r||r(t,i)}),[t,r,v,c]),g=e.useCallback((function(e){p(),s([]),null==l||l(t,e)}),[t,l,p,s]),b=e.useCallback((function(e){null==d||d(t,e)}),[t,d]);return e.useMemo((function(){return{onMouseEnter:o?h:void 0,onMouseMove:o?f:void 0,onMouseLeave:o?g:void 0,onClick:o?b:void 0}}),[o,h,f,g,b])},T=function(i){var t=i.series,o=i.position,a=i.padding,l=i.color,d=i.getLabel,s=n.useTheme(),c=r.useInheritedColor(l,s);return e.useMemo((function(){var e,i;return"start"===o?(e="end",i=-1*a):(e="start",i=a),t.map((function(t){var n=t.id;"function"==typeof d&&(n=d(t.data));var r="start"===o?t.points[0]:t.points[t.points.length-1];return{id:t.id,label:n,x:r.x+i,y:r.y,color:c(t),opacity:t.fillOpacity,serie:t,textAnchor:e}}))}),[d,t,o,a,c])},E=function(e){var t=e.serie,o=e.areaGenerator,n=e.blendMode,r=e.isInteractive,a=e.onMouseEnter,l=e.onMouseMove,d=e.onMouseLeave,u=e.onClick,v=e.setActiveSerieIds,p=e.tooltip,h=A({serie:t,isInteractive:r,onMouseEnter:a,onMouseMove:l,onMouseLeave:d,onClick:u,setActiveSerieIds:v,tooltip:p}),f=i.useMotionConfig(),g=f.animate,b=f.config,x=i.useAnimatedPath(o(t.areaPoints)||""),m=c.useSpring({color:t.color,fillOpacity:t.fillOpacity,stroke:t.borderColor,strokeOpacity:t.borderOpacity,config:b,immediate:!g});return s.jsx(c.animated.path,{"data-testid":"area."+t.id,d:x,fill:t.fill?t.fill:m.color,fillOpacity:m.fillOpacity,stroke:m.stroke,strokeWidth:t.borderWidth,strokeOpacity:m.strokeOpacity,style:{mixBlendMode:n},onMouseEnter:h.onMouseEnter,onMouseMove:h.onMouseMove,onMouseLeave:h.onMouseLeave,onClick:h.onClick})},j=function(e){var t=e.getLabel,o=e.series,r=e.position,a=e.padding,l=e.color,d=n.useTheme(),v=i.useMotionConfig(),h=v.animate,f=v.config,g=T({getLabel:t,series:o,position:r,padding:a,color:l}),b=c.useSprings(g.length,g.map((function(e){return{x:e.x,y:e.y,opacity:e.opacity,config:f,immediate:!h}})));return s.jsx(s.Fragment,{children:b.map((function(e,i){var t=g[i];return s.jsx(u.Text,{"data-testid":"label."+r+"."+t.serie.id,x:e.x,y:e.y,textAnchor:t.textAnchor,dominantBaseline:"central",opacity:e.opacity,style:p({},d.labels.text,{fill:t.color}),children:t.label},t.id)}))})},z=p({},{align:"middle",layers:["grid","axes","labels","areas"],interpolation:"smooth",spacing:0,xPadding:.6,colors:{scheme:"nivo"},blendMode:"normal",fillOpacity:.8,activeFillOpacity:1,inactiveFillOpacity:.15,borderWidth:1,activeBorderWidth:1,inactiveBorderWidth:0,borderColor:{from:"color",modifiers:[["darker",.4]]},borderOpacity:1,activeBorderOpacity:1,inactiveBorderOpacity:0,startLabel:!0,startLabelPadding:12,startLabelTextColor:{from:"color",modifiers:[["darker",1]]},endLabel:!0,endLabelPadding:12,endLabelTextColor:{from:"color",modifiers:[["darker",1]]},enableGridX:!0,axisTop:{},axisBottom:{},isInteractive:!0,defaultActiveSerieIds:[],tooltip:function(e){var i=e.serie;return s.jsx(a.BasicTooltip,{id:i.id,enableChip:!0,color:i.color})},role:"img"},{defs:[],fill:[],animate:!0,motionConfig:"gentle"}),D=["isInteractive","animate","motionConfig","theme","renderWrapper"],F=function(o){var n=o.data,r=o.align,a=void 0===r?z.align:r,l=o.width,d=o.height,c=o.margin,u=o.layers,v=void 0===u?z.layers:u,p=o.interpolation,h=void 0===p?z.interpolation:p,f=o.spacing,g=void 0===f?z.spacing:f,b=o.xPadding,x=void 0===b?z.xPadding:b,m=o.colors,y=void 0===m?z.colors:m,M=o.blendMode,C=void 0===M?z.blendMode:M,P=o.fillOpacity,S=void 0===P?z.fillOpacity:P,W=o.activeFillOpacity,k=void 0===W?z.activeFillOpacity:W,O=o.inactiveFillOpacity,L=void 0===O?z.inactiveFillOpacity:O,I=o.defs,B=void 0===I?z.defs:I,A=o.fill,T=void 0===A?z.fill:A,D=o.borderWidth,F=void 0===D?z.borderWidth:D,R=o.activeBorderWidth,G=void 0===R?z.activeBorderWidth:R,H=o.inactiveBorderWidth,q=void 0===H?z.inactiveBorderWidth:H,U=o.borderColor,X=void 0===U?z.borderColor:U,Y=o.borderOpacity,K=void 0===Y?z.borderOpacity:Y,J=o.activeBorderOpacity,N=void 0===J?z.activeBorderOpacity:J,Q=o.inactiveBorderOpacity,V=void 0===Q?z.inactiveBorderOpacity:Q,Z=o.startLabel,$=void 0===Z?z.startLabel:Z,_=o.startLabelPadding,ee=void 0===_?z.startLabelPadding:_,ie=o.startLabelTextColor,te=void 0===ie?z.startLabelTextColor:ie,oe=o.endLabel,ne=void 0===oe?z.endLabel:oe,re=o.endLabelPadding,ae=void 0===re?z.endLabelPadding:re,le=o.endLabelTextColor,de=void 0===le?z.endLabelTextColor:le,se=o.enableGridX,ce=void 0===se?z.enableGridX:se,ue=o.axisTop,ve=void 0===ue?z.axisTop:ue,pe=o.axisBottom,he=void 0===pe?z.axisBottom:pe,fe=o.isInteractive,ge=void 0===fe?z.isInteractive:fe,be=o.defaultActiveSerieIds,xe=void 0===be?z.defaultActiveSerieIds:be,me=o.onMouseEnter,ye=o.onMouseMove,Me=o.onMouseLeave,Ce=o.onClick,Pe=o.tooltip,Se=void 0===Pe?z.tooltip:Pe,We=o.role,ke=void 0===We?z.role:We,Oe=o.forwardedRef,Le=i.useDimensions(l,d,c),Ie=Le.margin,Be=Le.innerWidth,we=Le.innerHeight,Ae=Le.outerWidth,Te=Le.outerHeight,Ee=w({data:n,width:Be,height:we,align:a,spacing:g,xPadding:x,interpolation:h,colors:y,fillOpacity:S,activeFillOpacity:k,inactiveFillOpacity:L,borderWidth:F,activeBorderWidth:G,inactiveBorderWidth:q,borderColor:X,borderOpacity:K,activeBorderOpacity:N,inactiveBorderOpacity:V,isInteractive:ge,defaultActiveSerieIds:xe}),je=Ee.series,ze=Ee.xScale,De=Ee.heightScale,Fe=Ee.areaGenerator,Re=Ee.setActiveSerieIds,Ge=e.useMemo((function(){return i.bindDefs(B,je,T,{targetKey:"fill"})}),[B,je,T]),He={grid:null,axes:null,labels:null,areas:null};v.includes("grid")&&ce&&(He.grid=s.jsx(t.Grid,{width:Be,height:we,xScale:ze},"grid")),v.includes("axes")&&(He.axes=s.jsx(t.Axes,{xScale:ze,yScale:De,width:Be,height:we,top:ve,bottom:he},"axes")),v.includes("areas")&&(He.areas=s.jsx(e.Fragment,{children:je.map((function(e){return s.jsx(E,{areaGenerator:Fe,serie:e,blendMode:C,isInteractive:ge,setActiveSerieIds:Re,onMouseEnter:me,onMouseMove:ye,onMouseLeave:Me,onClick:Ce,tooltip:Se},e.id)}))},"areas")),v.includes("labels")&&(He.labels=s.jsxs(e.Fragment,{children:[!1!==$&&s.jsx(j,{getLabel:$,series:je,position:"start",padding:ee,color:te}),!1!==ne&&s.jsx(j,{getLabel:ne,series:je,position:"end",padding:ae,color:de})]},"labels"));var qe=e.useMemo((function(){return{innerWidth:Be,innerHeight:we,outerWidth:Ae,outerHeight:Te,series:je,xScale:ze,areaGenerator:Fe}}),[Be,we,Ae,Te,je,ze,Fe]);return s.jsx(i.SvgWrapper,{defs:Ge,width:Ae,height:Te,margin:Ie,role:ke,ref:Oe,children:v.map((function(i,t){var o;return"function"==typeof i?s.jsx(e.Fragment,{children:e.createElement(i,qe)},t):null!=(o=null==He?void 0:He[i])?o:null}))})},R=e.forwardRef((function(e,t){var o=e.isInteractive,n=void 0===o?z.isInteractive:o,r=e.animate,a=void 0===r?z.animate:r,l=e.motionConfig,d=void 0===l?z.motionConfig:l,c=e.theme,u=e.renderWrapper,v=h(e,D);return s.jsx(i.Container,{animate:a,isInteractive:n,motionConfig:d,renderWrapper:u,theme:c,children:s.jsx(F,p({isInteractive:n},v,{forwardedRef:t}))})})),G=["defaultWidth","defaultHeight","onResize","debounceResize"],H=e.forwardRef((function(e,t){var o=e.defaultWidth,n=e.defaultHeight,r=e.onResize,a=e.debounceResize,l=h(e,G);return s.jsx(i.ResponsiveWrapper,{defaultWidth:o,defaultHeight:n,onResize:r,debounceResize:a,children:function(e){var i=e.width,o=e.height;return s.jsx(R,p({width:i,height:o},l,{ref:t}))}})}));exports.AreaBump=R,exports.Bump=k,exports.ResponsiveAreaBump=H,exports.ResponsiveBump=L,exports.areaBumpSvgDefaultProps=z,exports.bumpSvgDefaultProps=y,exports.isBumpPoint=function(e){return"serie"in e},exports.isComputedBumpSerie=function(e){return"points"in e},exports.useAreaBump=w,exports.useAreaBumpSerieHandlers=A,exports.useAreaBumpSeriesLabels=T,exports.useBump=g,exports.useBumpPointHandlers=function(i){var t=i.point,o=i.isInteractive,n=i.onMouseEnter,r=i.onMouseMove,l=i.onMouseLeave,d=i.onMouseDown,s=i.onMouseUp,c=i.onClick,u=i.onDoubleClick,v=i.setActivePointIds,p=i.setActiveSerieIds,h=i.pointTooltip,f=a.useTooltip(),g=f.showTooltipFromEvent,b=f.hideTooltip,x=e.useCallback((function(i){g(e.createElement(h,{point:t}),i),v([t.id]),p([t.serie.id]),null==n||n(t,i)}),[g,h,t,v,p,n]),m=e.useCallback((function(i){g(e.createElement(h,{point:t}),i),null==r||r(t,i)}),[g,h,t,r]),y=e.useCallback((function(e){b(),v([]),p([]),null==l||l(t,e)}),[b,v,p,l,t]),M=e.useCallback((function(e){null==d||d(t,e)}),[t,d]),C=e.useCallback((function(e){null==s||s(t,e)}),[t,s]),P=e.useCallback((function(e){null==c||c(t,e)}),[t,c]),S=e.useCallback((function(e){null==u||u(t,e)}),[t,u]);return e.useMemo((function(){return{onMouseEnter:o?x:void 0,onMouseMove:o?m:void 0,onMouseLeave:o?y:void 0,onMouseDown:o?M:void 0,onMouseUp:o?C:void 0,onClick:o?P:void 0,onDoubleClick:o?S:void 0}}),[o,x,m,y,M,C,P,S])},exports.useBumpSerieHandlers=b,exports.useBumpSeriesLabels=x;
//# sourceMappingURL=nivo-bump.cjs.js.map
